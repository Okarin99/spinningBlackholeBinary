# spinningBlackholeBinary
Visualization setup for spinning binary black hole scattering. The project consists of the following parts:
- 1PM_deflection.wl: Post-Minkowskian approximation to first order for the trajectory two spinning BHs evaluated by K. Stoldt.
- ancillary.m: Post-Minkowskian approximation to second order for the waveform emitted by two spinning BHs evaluated in the following paper http://dx.doi.org/10.1103/PhysRevLett.126.201103.
- animateWaveform_*: Visualizations of the radiated waveforms for different configurations
- createHDFFiles.wl: Script that evaluates the trajectory and the waveform on a 3D grid for different timesteps and saves the data inside a HDF5 file.
- scenes/: Different scenes that can be used visualize the data generated by createHDFFiles.wl using the gwpvWithoutSWSH library: https://github.com/Okarin99/gwpvWithoutSWSH

## Setup
### Mathematica scripts
Evaluate in command line with:
wolframscript -script createHDFFiles_alignedSpinInverted.wl

### Setup gwpv
1. Clone https://github.com/Okarin99/gwpvWithoutSWSH and move into the folder.
2. Install miniconda: https://docs.anaconda.com/miniconda/install/#quick-command-line-install
3. Install paraview: https://www.paraview.org/files/v5.13/ (ParaView-5.13.1-egl-MPI-Linux-Python3.10-x86_64.tar.gz)
4. Setup conda environment
    conda install conda-build
    conda create --name gwpv
    conda-develop -n gpwv $Path_to_paraview/lib/python3.10/site-packages/
    conda activate gwpv
    pip install -e $Path_to_gwpv_project

    Check if "gwrender --help" works

### Example commands
- Generate one frame
    gwrender scene scenes/withoutRotation/CrossStill.yaml -o Results/
- Generate video using 20 threads
    gwrender scene scenes/withoutRotation/Cross.yaml -o Results/cross_withoutSpin/video --render-movie-to-file Results/cross_withoutSpin/video -n 20
- Generate specific frames
    gwrender scene scenes/withoutRotation/Cross.yaml -o Results/cross_withoutSpin/video --render-movie-to-file Results/cross_withoutSpin/video -n 20 --frame-window 120 140 --render-missing-frames
